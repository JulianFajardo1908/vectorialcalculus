% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/directional_derivative3d.R
\name{directional_derivative3d}
\alias{directional_derivative3d}
\title{Directional derivative (nD) and 2D visualization for z = f(x, y)}
\usage{
directional_derivative3d(
  f,
  x0,
  v,
  h = 1e-06,
  plot = FALSE,
  x_window = 2,
  y_window = 2,
  n_s = 180,
  n_r = 50,
  show_strip = TRUE,
  strip_colorscale = "Blues",
  strip_opacity = 0.3,
  show_surface_grid = TRUE,
  surface_grid_color = "rgba(60,80,200,0.25)",
  surface_grid_width = 1,
  curve_line = list(color = "red", width = 1),
  point_marker = list(color = "black", size = 3, symbol = "circle"),
  u_line = list(color = "black", width = 1),
  w_line = list(color = "black", width = 0.5),
  t_range = c(-2, 2),
  scene = list(aspectmode = "data", xaxis = list(title = "x"), yaxis = list(title = "y"),
    zaxis = list(title = "z")),
  bg = list(paper = "white", plot = "white"),
  tol = 1e-12
)
}
\arguments{
\item{f}{Function returning a numeric scalar. It may be defined either as
\code{f(x, y, ...)} with as many numeric arguments as dimensions, or as
\code{f(x_vec)} taking a numeric vector.}

\item{x0}{Numeric vector; evaluation point (length = dimension, \eqn{\ge 2}).}

\item{v}{Numeric vector; direction (same length as \code{x0}, nonzero).}

\item{h}{Numeric step for finite differences (default \code{1e-6}).}

\item{plot}{Logical; if \code{TRUE} and \code{length(x0) == 2}, draw with \pkg{plotly}.}

\item{x_window, y_window}{Numeric half-widths for the 2D strip window (plot only).}

\item{n_s}{Integer; samples along the direction line (plot only).}

\item{n_r}{Integer; radial samples across the strip (plot only).}

\item{show_strip}{Logical; draw the surface strip (plot only).}

\item{strip_colorscale}{Character; Plotly colorscale for the strip.}

\item{strip_opacity}{Numeric in \eqn{[0,1]}; strip opacity.}

\item{show_surface_grid}{Logical; show strip grid (plot only).}

\item{surface_grid_color}{Character; grid color (plot only).}

\item{surface_grid_width}{Numeric; grid width (plot only).}

\item{curve_line, point_marker, u_line, w_line}{Plotly styles (plot only).}

\item{t_range}{Numeric length-2; parameter range for the directional curve (plot only).}

\item{scene, bg}{Plotly scene/background (plot only).}

\item{tol}{Numeric tolerance for zero checks.}
}
\value{
A list with
\describe{
\item{\code{D}}{Directional derivative at \code{x0} along \code{v_hat}.}
\item{\code{v_hat}}{Unit direction.}
\item{\code{fx}, \code{fy}}{(only in 2D) centered partials at \code{x0}.}
\item{\code{fig}}{Plotly object if plotted, else \code{NULL}.}
}
}
\description{
Computes the directional derivative \eqn{D_{\mathbf{\hat v}} f(\mathbf{x}_0)}
via centered differences in any dimension. If \code{length(x0) == 2} and
\code{plot = TRUE}, it draws a local strip of the surface \eqn{z = f(x,y)},
the base point, the direction, and the directional curve.
}
\examples{
# Works for nD (no plot):
f3 <- function(x, y, z) x^2 + y^2 + z
directional_derivative3d(f3, x0 = c(1, 0, 0), v = c(1, 1, 0))

# 2D with plot (z = f(x,y)):
f2 <- function(x, y) x^2 + y^2
# directional_derivative3d(f2, x0 = c(0, 0), v = c(1, 2), plot = TRUE)

}
