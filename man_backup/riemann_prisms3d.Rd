% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/riemann_prisms3d.R
\name{riemann_prisms3d}
\alias{riemann_prisms3d}
\title{2D Riemann sums with rectangular 3D prisms (single function)}
\usage{
riemann_prisms3d(
  F,
  f1,
  f2,
  a,
  b,
  N,
  M,
  plot = TRUE,
  estimate = c("lower", "upper", "mean", "all"),
  sample_n = 6,
  show_surface = FALSE,
  surface_colorscale = "Viridis",
  surface_opacity = 0.35,
  show_surface_grid = TRUE,
  surface_grid_color = "rgba(60,80,200,0.25)",
  surface_grid_width = 1,
  color_by = c("mean", "lower", "upper"),
  top_colorscale = "YlOrBr",
  top_opacity = 0.85,
  side_color = "rgba(60,60,60,0.25)",
  side_opacity = 0.35,
  frame_color = "rgba(0,0,0,0.55)",
  frame_width = 1.5,
  scene = list(aspectmode = "data", xaxis = list(title = "x"), yaxis = list(title = "y"),
    zaxis = list(title = "z")),
  bg = list(paper = "white", plot = "white")
)
}
\arguments{
\item{F}{Integrand \code{function(x,y)}.}

\item{f1, f2}{y-bounds: \code{function(x)}.}

\item{a, b}{x-interval (with \code{b>a}).}

\item{N, M}{Integers \code{>=1} (divisions in \code{x} and \code{y}).}

\item{plot}{If \code{TRUE}, draw with \pkg{plotly}.}

\item{estimate}{Which estimate to return: \code{"lower"}, \code{"upper"},
\code{"mean"} or \code{"all"} (returns the three).}

\item{sample_n}{Fine sampling per cell side (default \code{6}) to
evaluate \code{lower}, \code{upper}, \code{mean}.}

\item{show_surface}{If \code{TRUE}, overlay the true surface \code{z = F(x,y)}.}

\item{surface_colorscale, }{surface_opacity, show_surface_grid, surface_grid_color, surface_grid_width
Aesthetics for the true surface.}

\item{color_by}{Which statistic colors the prism tops: \code{"lower"}, \code{"upper"}, \code{"mean"}.}

\item{top_colorscale}{Colorscale for prism tops (Plotly name, single color, or vector).}

\item{top_opacity}{Top (ceiling) opacity (0â€“1).}

\item{side_color, }{side_opacity Color/opacity for the 4 vertical sides.}

\item{frame_color, }{frame_width Wireframe for prism edges (set \code{NA} to hide).}

\item{scene, bg}{Plotly scene and backgrounds.}
}
\value{
\describe{
  \item{lower}{Lower Riemann sum on the selected partition.}
  \item{upper}{Upper Riemann sum on the selected partition.}
  \item{mean}{Cellwise mean of \eqn{F} on the fine subgrid.}
}
}
\description{
Approximates \eqn{\iint_{\Omega} F(x,y)\,dx\,dy} over
\eqn{\Omega = \{(x,y): a \le x \le b,\ \min(f_1(x), f_2(x)) \le y \le \max(f_1(x), f_2(x))\}}
using an \eqn{N \times M} partition.
For each valid cell, it computes the cellwise \code{lower}, \code{upper}, and \code{mean} of
\eqn{F} on a fine subgrid, and (optionally) draws \strong{rectangular prisms} with a flat
top (constant \eqn{z} on the cell) and vertical walls.
}

